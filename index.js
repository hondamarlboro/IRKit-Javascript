$(function() {
    $("#aircon-on").click(function() {
        $(document.remotecontroller.message).val('{"freq":38,"format":"raw","data":[6573,3257,867,824,866,825,865,2463,866,826,864,2462,867,825,864,827,863,828,863,2464,866,2462,867,826,864,826,865,826,864,2463,866,2461,868,825,865,826,864,827,864,826,865,826,864,826,865,826,864,826,865,825,866,826,864,826,865,826,864,827,864,2462,867,826,864,826,865,826,864,827,864,827,864,826,864,826,865,2461,868,825,865,826,865,826,864,827,864,2462,867,2461,867,2461,868,2461,867,2461,868,2461,867,2461,868,2461,867,826,864,826,865,2461,866,826,864,827,864,828,863,827,864,826,865,826,865,825,865,826,865,2462,867,2462,866,825,865,826,865,2462,867,825,865,826,865,825,865,826,865,2461,868,825,865,2462,867,2462,867,825,865,826,864,827,864,825,865,826,865,826,865,825,865,826,865,826,864,827,864,826,865,826,864,826,865,2462,867,825,865,827,864,825,864,827,863,827,863,829,863,827,864,827,864,826,865,826,864,826,865,826,865,825,865,827,864,827,864,826,864,827,864,826,864,826,865,826,865,826,864,826,865,826,864,827,864,827,864,826,864,827,864,826,865,2462,867,825,865,2462,867,825,865,826,864,826,865,2463,866,2461,867,826,865,825,865,827,864,2462,867,2461,867]}');
    });
    $("#aircon-off").click(function() {
        $(document.remotecontroller.message).val('{"format":"raw","freq":38,"data":[6530,3297,825,867,823,867,822,2504,825,866,824,2502,873,819,871,820,871,819,870,2455,874,2454,874,818,871,819,872,818,871,2454,875,2453,875,817,873,817,872,818,873,817,873,818,872,818,872,818,872,818,873,817,873,817,873,817,873,817,873,818,873,2453,875,817,873,817,873,817,873,817,873,817,873,817,873,817,874,2452,876,816,873,817,873,818,873,817,873,2453,875,816,874,816,874,816,874,816,874,817,873,817,873,2452,877,815,874,2453,876,2450,877,2451,877,2451,876,2451,877,2450,877]}');;
    });
    $(document.remotecontroller).submit(function() {
        var hostname = $(document.remotecontroller.hostname).val();
        if (! hostname) {
            alert( "fill hostname" );
            return false;
        }
        var message = $(document.remotecontroller.message).val();
        if (! message) {
            alert( "fill Signal as JSON" );
            return false;
        }
        try {
            JSON.parse(message);
        } catch (e) {
            alert( "Signal is invalid JSON" );
            return false;
        }

        $.ajax({
            type     : "POST",
            url      : "http://" + hostname + "/messages",
            data     : message,
            complete : function(jqxhr, status) {
                console.log("complete: ", jqxhr, status);
            }
        });

        return false;
    });
});
